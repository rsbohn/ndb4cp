# 2025-09-01 add `ndb db status`

## Goal

Add a quick health report for the database: device count, CAS count, and orphan CAS count.

## Command

- Text report:
  - `uv run -- ndb db status --path ./local.db`
- JSON report:
  - `uv run -- ndb db status --path ./local.db --json`
- Include orphan hashes:
  - `uv run -- ndb db status --path ./local.db --show-orphans`

### Verbose

- List device and orphan CAS hashes:
  - `uv run -- ndb db status --path ./local.db -v`
- JSON with hashes:
  - `uv run -- ndb db status --path ./local.db -v --json`

## Notes

- Orphans are CAS blobs not referenced by any non-deleted device row. Keeping CAS append-only is fine; this report is informational.
